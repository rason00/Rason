webpackJsonp([1],[,,,,,function(t,e,n){"use strict";var a=n(3),s=n(2),o=n(58),i=n(57),r=n(55),c=n.n(r),l=n(56),u=n.n(l);a.default.use(s.c),e.a=new s.c.Store({state:o.a,mutations:i.a,actions:c.a,getters:u.a})},,,,,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAdVBMVEX///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+qOdF8AAAAJ3RSTlMA1/84wrSQUsEhA8yt1nl7ZXQFqfPw9vnET+V1+w6eKguwsagWkRQdowzRAAAAjElEQVQ4y92T2QrCMBBFr9el7mnVuptWY/3/T5RUhBlLnPeeh0ByDgQmBOgnAw7/+hE5NjwnhmeW9tPoOUvp+ccvkn7Zeq7WLpJLVzhXYEPNVgRxD+x+ChGUZNmukr0VHKzgaAUnIzjDCC5GcL11AzUHj26gbqhUEE9q3IV/6HfyIfgazyZ8aV79+kdv9icI/Hybp+cAAAAASUVORK5CYII="},,,,,,,,,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAZlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+Vn2moAAAAInRSTlMAAQIAA4d//4gE97WAsAWyBrH6B5379oV6gn6Bdwj+8A+JNzxSKwAAAMdJREFUOMvVk9sOwiAMhmGwFXdybs6zm77/S1rZVMCl9MrEP1wQ8qV/6UGIP5BMEqkCifAhsYeEpFZpqiQJIZMBmJDyILlCJodCBZTwmRKZqiYiWa8c1g2R0+xVNcTvZq/NAvOGPl7fzAuyXi0Une5qVx6k0auFrVrWBEmM08Nufzhmjk7ny9X+VEz9SqEfINQA482FTBzCWxm14yXOK8GzmGWsmLy28BrsOlLjyxk63vjOjnAnI1nKxFaKt5wYi7PmRO9+BT0AYSsVGuNs/P8AAAAASUVORK5CYII="},function(t,e,n){"use strict";var a=n(3),s=n(114),o=n(104),i=n.n(o),r=n(105),c=n.n(r),l=n(102),u=n.n(l);a.default.use(s.a),e.a=new s.a({scrollBehavior:function(t,e,n){return n||{x:0,y:0}},routes:[{path:"/",name:"首页",component:i.a,meta:{keepAlive:!0}},{path:"/:id",name:"more",component:c.a,meta:{keepAlive:!1}},{path:"/:id/comments",name:"more",component:u.a,meta:{keepAlive:!1}}]})},function(t,e){},,function(t,e,n){function a(t){n(88)}var s=n(1)(n(46),n(108),a,null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"banner",props:["bannerData"],data:function(){return{}},mounted:function(){this.getHeight()},methods:{changeImageUrl:function(t){if(void 0!==t)return t.replace(/http\w{0,1}:\/\/p/g,"https://images.weserv.nl/?url=p")},getHeight:function(){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.$refs.banner.style.height=t/2-80+"px"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(6),s=n.n(a),o=n(4),i=n.n(o),r=n(5),c=n(2);e.default={store:r.a,data:function(){return{longCom:"",shortCom:""}},mounted:function(){this.longComments(),this.shortComments(),this.NightMode!==localStorage.getItem("nightstate")&&("true"===localStorage.getItem("nightstate")?this.nightState(!0):this.nightState(!1))},computed:s()({},n.i(c.a)(["NightMode"])),methods:s()({},n.i(c.b)(["nightState"]),{longComments:function(){var t=this,e="https://zhihu-daily.leanapp.cn/api/v1/contents/"+this.$route.params.id+"/long-comments";i.a.get(e).then(function(e){t.longCom=e.data.COMMENTS.comments})},shortComments:function(){var t=this,e="https://zhihu-daily.leanapp.cn/api/v1/contents/"+this.$route.params.id+"/short-comments";i.a.get(e).then(function(e){t.shortCom=e.data.COMMENTS.comments})},changeImageUrl:function(t){if(void 0!==t)return t.replace(/http\w{0,1}:\/\/p/g,"https://images.weserv.nl/?url=p")}},n.i(c.b)(["nightState"]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(6),s=n.n(a),o=n(4),i=n.n(o),r=n(53),c=(n.n(r),n(5)),l=n(2);e.default={store:c.a,props:["contentData"],data:function(){return{moreNews:!1,dayNumber:"0",m:"",d:"",scroll:""}},mounted:function(){window.addEventListener("scroll",this.judgeScroll),this.getYestoday()},methods:{getYestoday:function(){Date.parse(new Date(20170908))},addDate:function(t){var e=new Date;e.setDate(e.getDate()-t);var n=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0"+a);var t=e.getDate();return t<10&&(t="0"+t),{m:a,d:t,td:n+a+t}},judgeScroll:function(){var t=this;if("首页"===this.$route.name){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=0==document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop,a=0==document.documentElement.scrollTop?document.body.scrollHeight:document.documentElement.scrollHeight;if(0==document.body.scrollTop&&document.documentElement.scrollTop,(e+Math.floor(n)==a&&"首页"===this.$route.name||e+Math.ceil(n)==a&&"首页"===this.$route.name)&&!this.moreNews&&"首页"===this.$route.name){this.moreNews=!0;var s=this.addDate(this.dayNumber).td,o="https://zhihu-daily.leanapp.cn/api/v1/before-stories/"+s;i.a.get(o).then(function(e){t.data=e.data.STORIES;var n=document.getElementById("news"),a="<p class='con-title' style='font-size: 14px;padding: 20px;'>"+t.addDate(t.dayNumber).m+"月"+t.addDate(t.dayNumber).d+"日</p>";n.innerHTML+=a,console.log(),t.getMoreNews(t.data.stories)}),this.dayNumber++}}},getMoreNews:function(t){var e=this;t.forEach(function(t){e.contentData.stories.push(t)}),this.moreNews=!1},changeImageUrl:function(t){if(void 0!==t)return t.replace(/http\w{0,1}:\/\/p/g,"https://images.weserv.nl/?url=p")}},computed:s()({},n.i(l.a)(["NightMode"]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(106),s=n.n(a),o=n(101),i=n.n(o),r=n(103),c=n.n(r),l=n(4),u=n.n(l);e.default={name:"indexpage",components:{"my-top":s.a,"my-banner":i.a,"my-content":c.a},data:function(){return{items:[],topStatus:"",topDistance:80}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;u.a.get("https://zhihu-daily.leanapp.cn/api/v1/last-stories").then(function(e){t.items=e.data.STORIES}).catch(function(t){console.log(t)})},handleTopChange:function(t){this.topStatus=t},loadTop:function(){location.reload()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(6),s=n.n(a),o=n(4),i=n.n(o),r=n(5),c=n(2);e.default={store:r.a,data:function(){return{like:"",allcomments:""}},mounted:function(){this.moreContent(),this.moreLike(),this.NightMode!==localStorage.getItem("nightstate")&&("true"===localStorage.getItem("nightstate")?this.nightState(!0):this.nightState(!1))},methods:s()({moreContent:function(){var t=this,e="https://zhihu-daily.leanapp.cn/api/v1/contents/"+this.$route.params.id;i.a.get(e).then(function(e){var n=document.getElementById("moreContent"),a="<div class='more-banner'　ref='moreBanner'><img src="+e.data.CONTENTS.image+" /><span class='span-1'>"+e.data.CONTENTS.title+"</span><span class='span-2'>"+e.data.CONTENTS.image_source+"</span></div>"+e.data.CONTENTS.body;n.innerHTML=a,t.changeSrc()})},moreLike:function(){var t=this,e="https://zhihu-daily.leanapp.cn/api/v1/contents/extra/"+this.$route.params.id;i.a.get(e).then(function(e){t.like=e.data.DES.popularity,t.allcomments=e.data.DES.comments})},changeSrc:function(){for(var t=document.getElementsByTagName("img"),e=0;e<t.length;e++){var n=t[e].src.replace(/http\w{0,1}:\/\/p/g,"https://images.weserv.nl/?url=p");t[e].src=n}}},n.i(c.b)(["nightState"])),computed:s()({},n.i(c.a)(["NightMode"]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(6),s=n.n(a),o=n(5),i=n(2);e.default={name:"top",data:function(){return{msg:"top",tog:!1,modemsg:"夜间模式"}},computed:s()({},n.i(i.a)(["NightMode"])),methods:s()({},n.i(i.b)(["ChengeMode","nightState"]),{show:function(){this.tog=!0},hide:function(){this.tog=!1},chenge:function(){this.ChengeMode(),this.hide(),this.NightMode?this.modemsg="日间模式":this.modemsg="夜间模式"}}),mounted:function(){this.NightMode!==localStorage.getItem("nightstate")&&("true"===localStorage.getItem("nightstate")?this.nightState(!0):this.nightState(!1)),this.NightMode?this.modemsg="日间模式":this.modemsg="夜间模式"},watch:{NightMode:function(){localStorage.setItem("nightstate",this.NightMode)}},store:o.a}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),s=n(27),o=n.n(s),i=n(24),r=n(26),c=n.n(r),l=n(25);n.n(l);a.default.use(c.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:i.a,template:"<App/>",components:{App:o.a}})},function(t,e){},function(t,e){},function(t,e,n){"use strict";e.a={ChengeMode:function(t){t.NightMode=!t.NightMode},nightState:function(t,e){t.NightMode=e}}},function(t,e,n){"use strict";e.a={NightMode:!1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAJFBMVEUAAAD///////////////////////////////////////////+0CY3pAAAADHRSTlMACZrz8pj/l/HwlQiSVk6DAAAAPUlEQVQ4y2NgGEmAkYmZhZWRgCImNiBgJ6CIGaSIg4AiFpAiTgKKWEGKuAg5nJ2Dk4t7NDBHA3M0MAccAAAneAJrTQcccwAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAV1BMVEX////////////////////////////////////////////////////////////////////////////////////////////////////////////////////c7HqBAAAAHXRSTlMAFZCoka3/rPPx8PeGfu7r7/q0r7L4iIFo5Bko26vXykQAAAB4SURBVDjL5dPJCoAgFIVhm45lltls9f7P2U66V8FlRP9O/ECchPhTWV6wyoyACkGSAEQioA7nGwIU0OrOp1ug58A8xwYYOLDj5BttDMyVb46BF5ZQHCzr5lsXDiInqVJ3QYFMAbF3JBcA1uHYNkOhkHiE5/WhH3MDFykLvgFR92MAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAHdElNRQfhBBoPDS0gxRa5AAAAUUlEQVRo3u3WsQ3AIAxFQUAZkhHDlKSJFKT0/IK7yp2fXLkUAAir3zjn1sXv5pa+gAAB1zKPdAxAhH9AgIB4AEDc+g/cWxf3f4CHRMCZAQDwAB6ZCNI/RceBAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE3LTA0LTI2VDE1OjEzOjQ1KzA4OjAwyDqqWgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNy0wNC0yNlQxNToxMzo0NSswODowMLlnEuYAAAAASUVORK5CYII="},,function(t,e,n){function a(t){n(89)}var s=n(1)(n(47),n(109),a,"data-v-5e55ec76",null);t.exports=s.exports},function(t,e,n){function a(t){n(91)}var s=n(1)(n(48),n(111),a,null,null);t.exports=s.exports},function(t,e,n){function a(t){n(92)}var s=n(1)(n(49),n(112),a,"data-v-6d042fc2",null);t.exports=s.exports},function(t,e,n){function a(t){n(87)}var s=n(1)(n(50),n(107),a,"data-v-13bd2687",null);t.exports=s.exports},function(t,e,n){function a(t){n(93)}var s=n(1)(n(51),n(113),a,null,null);t.exports=s.exports},function(t,e,n){function a(t){n(90)}var s=n(1)(n(52),n(110),a,"data-v-5f3b9dfb",null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("my-top"),t._v(" "),n("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,topDistance:t.topDistance},on:{"top-status-change":t.handleTopChange}},[n("my-banner",{attrs:{"banner-data":t.items}}),t._v(" "),n("my-content",{ref:"content",attrs:{"content-data":t.items}}),t._v(" "),n("div",{staticClass:"mint-loadmore-top",slot:"top"},[n("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!=t.topStatus,expression:"topStatus != 'loading'"}]},[t._v("下拉刷新")]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:"loading"==t.topStatus,expression:"topStatus == 'loading'"}]},[t._v("刷新中...")])])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",[t.$route.meta.keepAlive?n("router-view"):t._e()],1),t._v(" "),t.$route.meta.keepAlive?t._e():n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"banner",staticClass:"banner clearfix swiper-container"},[n("mt-swipe",{attrs:{auto:4e3}},t._l(t.bannerData.top_stories,function(e){return n("mt-swipe-item",{key:e.id,staticClass:"banner-img"},[n("router-link",{attrs:{to:e.id.toString()}},[n("img",{attrs:{src:t.changeImageUrl(e.image),alt:"banner"}}),t._v(" "),n("span",[t._v(t._s(e.title))])])],1)}))],1)},staticRenderFns:[]}},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top"},[a("mt-header",{class:{night:t.NightMode},attrs:{fixed:""}},[a("router-link",{attrs:{to:"/"},slot:"left"},[a("mt-button",[a("img",{staticClass:"fl",attrs:{src:n(99),alt:"nav"}}),t._v(" "),a("span",{staticClass:"title"},[t._v(t._s(t.$route.name))])])],1),t._v(" "),a("mt-button",{on:{click:function(e){t.show()}},slot:"right"},[a("img",{staticClass:"top-more",attrs:{src:n(97)}})])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tog,expression:"tog"}],staticClass:"choice-box",on:{click:function(e){t.hide()}}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tog,expression:"tog"}],staticClass:"choice"},[a("ul",[a("li",{on:{click:function(e){t.chenge()}}},[t._v(t._s(t.modemsg))])])])],1)},staticRenderFns:[]}},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comments"},[a("mt-header",{class:{night:t.NightMode},attrs:{fixed:""}},[a("a",{attrs:{onclick:"history.back(-1)"},slot:"left"},[a("img",{staticClass:"more-back",attrs:{src:n(23)}})])]),t._v(" "),a("div",{staticClass:"cmonnents-con",class:{nightcon:t.NightMode}},[a("div",{staticClass:"long-com"},[a("a",{staticClass:"long-com-title"},[t._v(t._s(t.longCom.length)+"条长评论")]),t._v(" "),a("hr"),t._v(" "),t._l(t.longCom,function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.longCom.length,expression:"longCom.length"}],staticClass:"com-box clearfix"},[a("div",{staticClass:"fl box-img"},[a("img",{attrs:{src:t.changeImageUrl(e.avatar),alt:""}})]),t._v(" "),a("div",{staticClass:"fl box-con"},[a("span",{staticClass:"com-like fr"},[a("img",{attrs:{src:n(12)}}),t._v(" "+t._s(e.likes)+"\n          ")]),t._v(" "),a("p",{staticClass:"box-name"},[t._v(t._s(e.author))]),t._v(" "),a("p",{staticClass:"box-con-con"},[t._v(t._s(e.content))])])])})],2),t._v(" "),a("div",{staticClass:"short-com"},[a("a",{staticClass:"short-com-title"},[t._v(t._s(t.shortCom.length)+"条短评论")]),t._v(" "),a("hr"),t._v(" "),t._l(t.shortCom,function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.shortCom.length,expression:"shortCom.length"}],staticClass:"com-box clearfix"},[a("div",{staticClass:"fl box-img"},[a("img",{attrs:{src:t.changeImageUrl(e.avatar),alt:""}})]),t._v(" "),a("div",{staticClass:"fl box-con"},[a("span",{staticClass:"com-like fr"},[a("img",{attrs:{src:n(12)}}),t._v(" "+t._s(e.likes)+"\n          ")]),t._v(" "),a("p",{staticClass:"box-name"},[t._v(t._s(e.author))]),t._v(" "),a("p",{staticClass:"box-con-con"},[t._v(t._s(e.content))])])])})],2)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content",class:{night:t.NightMode},attrs:{id:"content"}},[n("p",{staticClass:"con-title"},[t._v("今日热闻")]),t._v(" "),n("ul",{attrs:{id:"news"}},t._l(t.contentData.stories,function(e){return n("li",{key:e.id,staticClass:"con-list-box",class:{nightli:t.NightMode}},[n("router-link",{attrs:{to:e.id.toString()}},[n("span",{staticClass:"fl"},[t._v(t._s(e.title))]),t._v(" "),n("img",{staticClass:"fr",attrs:{src:t.changeImageUrl(e.images[0]),alt:"news"}})])],1)}))])},staticRenderFns:[]}},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"more"},[a("mt-header",{class:{night:t.NightMode},attrs:{fixed:""}},[a("a",{attrs:{onclick:"history.back(-1)"},slot:"left"},[a("img",{staticClass:"more-back",attrs:{src:n(23)}})]),t._v(" "),a("mt-button",{slot:"right"},[a("router-link",{attrs:{to:this.$route.params.id+"/comments"}},[a("img",{staticClass:"more-com",attrs:{src:n(98)}}),a("span",{staticClass:"like-s"},[t._v(t._s(t.allcomments))])]),t._v(" "),a("img",{staticClass:"more-like",attrs:{src:n(12)}}),a("span",{staticClass:"like-s"},[t._v(t._s(t.like))])],1)],1),t._v(" "),a("div",{class:{nightcon:t.NightMode},attrs:{id:"moreContent"}})],1)},staticRenderFns:[]}}],[54]);
